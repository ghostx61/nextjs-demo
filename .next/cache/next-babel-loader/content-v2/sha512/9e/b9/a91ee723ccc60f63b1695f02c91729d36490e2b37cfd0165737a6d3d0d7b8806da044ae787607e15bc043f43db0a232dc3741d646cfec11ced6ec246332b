{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from 'react';\nimport Head from 'next/head';\nimport { MongoClient } from 'mongodb'; /// this import will not be bundled to client site becoz we have used it in staticprops.\n\nimport MeetupList from '../components/meetups/MeetupList';\nconst DUMMY_MEETUPS = [{\n  id: 'm1',\n  image: 'https://images.unsplash.com/photo-1669923804952-c72912e9250e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',\n  title: 'Meetup 1',\n  address: '1, some city, 444012',\n  description: 'This is the 1st meetup'\n}, {\n  id: 'm2',\n  image: 'https://images.unsplash.com/photo-1669923804952-c72912e9250e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',\n  title: 'Meetup 2',\n  address: '2, some city, 4652432',\n  description: 'This is the 2nd meetup'\n}];\n\nfunction HomePage(props) {\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"React Meetups\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"This is the meetups homepage\"\n      })]\n    }), /*#__PURE__*/_jsx(MeetupList, {\n      meetups: props.meetups\n    })]\n  });\n}\n\nexport async function getStaticProps() {\n  // fetch data from api (below code will not be exposed to client becoz it is in this function)\n  //hence the credientails would not be exposed to client.\n  const client = await MongoClient.connect('mongodb+srv://admin:RVnCTJpVZV3PU5rB@cluster0.hyfvxbf.mongodb.net/meetupsDB');\n  const db = client.db();\n  const meetupsCollection = db.collection('meetups');\n  const result = await meetupsCollection.find().toArray();\n  const meetups = result.map(meetup => ({\n    title: meetup.title,\n    image: meetup.image,\n    address: meetup.address,\n    description: meetup.description,\n    id: meetup._id.toString()\n  }));\n  client.close();\n  console.log(result);\n  return {\n    props: {\n      meetups: meetups\n    }\n  };\n}\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}